<!--
MeaTec Task App
Frontend-only demo: React + TypeScript + Redux Toolkit + MSW
--
This README explains how to run the project locally, how the mock API works, and the project layout.
-->

# MeaTec Task App (Frontend-only)

A small, frontend-only task manager built with React + TypeScript. The app uses Mock Service Worker (MSW) to simulate an API for authentication and task CRUD. Task data is persisted to `localStorage` so the UI retains state across reloads.

## Quick Start (Windows PowerShell)

1. Install dependencies

```powershell
cd D:\MeaTech
npm install
```

2. Generate the MSW service worker file (writes `public/mockServiceWorker.js`):

```powershell
npm run prepare-mocks
```

3. Start the dev server

```powershell
npm run dev
```

4. Open the app in your browser at the URL Vite prints (e.g. `http://localhost:5174`).

## Authentication (mock)

- Sign in with username: `test` and password: `test123`.
- On successful login the mock returns a fake JWT and a `user` object. The token and user are stored in `localStorage` by `src/store/authSlice.ts` (keys: `token`, `user`).

## Mock API (MSW)

The mock endpoints are implemented in `src/mocks/handlers.ts` and served by the MSW worker in `src/mocks/browser.ts`. The worker is started automatically in development by `src/main.tsx`.

Implemented endpoints:

- `POST /login` — accepts `{ username, password }`. Returns `{ token, user }` for the static credentials above or `401` for invalid credentials.
- `GET /tasks` — returns an array of task objects.
- `POST /tasks` — creates a task (server-generated `id`) and returns the created task.
- `PUT /tasks/:id` — updates a task and returns the updated task.
- `DELETE /tasks/:id` — deletes a task and returns `204`.

Persistence:

- Tasks are saved to the browser `localStorage` under the key `mock_tasks_v1`. That means tasks survive page reloads and browser restarts until you clear local storage.

Notes about MSW:

- MSW intercepts requests from the browser. Node-side requests (scripts run in Node) are not intercepted by the service worker.
- Ensure `public/mockServiceWorker.js` exists (created by `npm run prepare-mocks`) before loading the app in the browser.

## Project Structure (high level)

```
D:/MeaTech
├─ index.html
├─ package.json
├─ public/
│  └─ mockServiceWorker.js   # generated by `npm run prepare-mocks`
└─ src/
	├─ main.tsx               # app bootstrap + MSW start in dev
	├─ App.tsx                # root component (auth guard)
	├─ index.css              # Tailwind + custom styles
	├─ pages/
	│  ├─ Login.tsx
	│  └─ Dashboard.tsx
	├─ components/
	│  ├─ Header.tsx
	│  ├─ TaskList.tsx
	│  ├─ TaskForm.tsx
	│  └─ EmptyState.tsx
	├─ store/
	│  ├─ index.ts            # redux store
	│  ├─ authSlice.ts
	│  └─ tasksSlice.ts
	└─ mocks/
		├─ handlers.ts         # MSW handlers (mock API + localStorage persistence)
		└─ browser.ts          # MSW worker setup
```

## Libraries & Tools Used

- React + ReactDOM
- TypeScript
- Vite (dev server + build)
- Tailwind CSS (styling)
- Redux Toolkit + React-Redux (state management)
- Axios (HTTP client)
- MSW (Mock Service Worker) for frontend API mocking

## How the UI state is managed

- Authentication state (token and user) is stored in the Redux `auth` slice and mirrored to `localStorage` so the user remains logged in after refresh.
- Tasks are fetched via `src/store/tasksSlice.ts` using `axios` to call the mocked endpoints; the mock persists tasks in `localStorage` so they survive reloads.

## Troubleshooting

- If API requests appear to fail, open Browser DevTools → Console and Network tabs to see whether MSW is intercepting requests. If you see an error like "mockServiceWorker.js not found", run `npm run prepare-mocks`.
- If the UI is blank after HMR or reload, check the browser console for runtime errors. MSW should be started before React renders in `src/main.tsx` (dev only).

## Development Tips

- To regenerate the service worker after changes to handlers, re-run `npm run prepare-mocks` and reload the page.
- Use the header theme toggle to switch between light and dark mode; the choice is persisted to `localStorage`.

## License / Notes

This project is a frontend-only demo intended for evaluation and learning. No backend or real authentication is used.

